package model;

import java.util.Map;

public abstract class Appliance
{
	private final String itemNumber;
	private final String brand;
	private final int wattage;
	private final String color;
	private double price;
	private int quantity;
	
	protected Appliance(Builder<?> builder)
	{
		this.itemNumber = builder.itemNumber;
		this.brand = builder.brand;
		this.wattage = builder.wattage;
		this.color = builder.color;
		this.price = builder.price;
		this.quantity = builder.quantity;
	}
	
 	public abstract static class Builder<T extends Builder<T>> 
	{
		private String itemNumber;
        private String brand;
        private int wattage;
        private String color;
        private int quantity;
        private double price;
        
        public abstract Appliance build();
        
        @SuppressWarnings("unchecked")
        protected T self()
        {
        	return (T) this;
        }
        
        public T itemNumber(String itemNumber) 
        {
            this.itemNumber = itemNumber;
            return self();
        }
        
        public T brand(String brand)
        {
        	this.brand = brand;
        	return self();
        }
        
        public T wattage(int wattage)
        {
        	this.wattage = wattage;
        	return self();
        }
        
        public T color(String color)
        {
        	this.color = color;
        	return self();
        }
        
        public T quantity(int quantity) 
        {
            this.quantity = quantity;
            return self();
        }

        public T price(double price) 
        {
            this.price = price;
            return self();
        }
	}
 	
 	public void checkOut() {
		if (this.quantity >= 1) {			
			this.quantity -= 1;
		}
    }
	
	public String itemNumber()
	{
		return itemNumber;
	}
	
	public String brand()
	{
		return brand;
	}
	
	
	public int quantity()
	{
		return quantity;
	}
	
	public int wattage()
	{
		return wattage;
	}
	
	public String color()
	{
		return color;
	}
	
	public void setPrice(double price) {
        this.price = price;
    }
	
	public double price()
	{
		return price;
	}
	
	public abstract boolean matchesCriteria(Map<String, Object> criteria);
	
	@Override
	public abstract String toString();
}
